<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="generator" content="RSD 5.0.3490">
  <title>Data Dunkers Visualizations - Interpreting Scatterplots</title>
  <style>
    body {
      font-family: sans-serif;
      margin-left: 2%;
      margin-right: 2%;
    }
  </style>
</head>

<body>
  <img src="https://github.com/Data-Dunkers/lessons/blob/main/images/top-banner.jpg?raw=true" alt="Data Dunkers Banner"
    style="width:50%; height:auto; display:block; margin:0 auto;">
  <h2>Interpreting Scatterplots</h2>
  <p class="paragraph">Visualizations help you see relationships and trends in the data. This is a <a
      href="https://en.wikipedia.org/wiki/Scatter_plot">scatterplot</a> that shows how NBA players' field goal
    percentages relate to the points they scored. The data are from the 2024-2025 season.</p>

  <p class="paragraph">We've also added a <b>1st Order Fit</b> (also known as a <b>Trendline</b>). This is the straight solid line that best fits all the data points. It helps us see the overall "direction" of the relationshipâ€”for example, do players who score more points generally have a higher or lower field goal percentage?</p>

  <div id="visualization-container">
    <iframe src="visualizations/field_goal_percentage_vs_points.html"
      style="width:100%; height:800px; border:none;"></iframe>
  </div>

  <p class="paragraph">Hover over different points to see player names and statistics. Identify some players that
    <b>stand out</b> from the rest (<a href="https://en.wikipedia.org/wiki/Outlier">outliers</a>). Look for players who are far above or below the trendline.
  </p>

  <h3>How to Interpret the Trendline</h3>
  <ul>
    <li><b>Relationship</b>: If the line goes up as points go up, there is a <b>positive relationship</b>. If it goes down, it's a <b>negative relationship</b>.</li>
    <li><b>Outliers</b>: Points that are far away from the trendline are called <b>outliers</b>. These are players whose performance is unusual compared to the rest of the league.</li>
    <li><b>Consistency</b>: Are most points clustered near the line, or are they spread out everywhere?</li>
  </ul>

  <footer>
    <h3>Questions</h3>
    <p class="questions" id="questions"></p>
    <p style="text-align: center;"><button onclick="copyAnswers()" style="padding:10px 20px; margin-top:10px;">Copy
        Answers</button></p>
    <p id="gitpullParagraph"></p>
    <p style="text-align:center;"><a href="index.html">home</a></p>
    <img src="https://github.com/Data-Dunkers/lessons/blob/main/images/bottom-banner.jpg?raw=true"
      alt="Data Dunkers Bottom Banner" style="width:50%; height:auto; display:block; margin:0 auto;">
  </footer>

  <script>
    const questions = [
      "Name one player who stands out as an outlier (far from the trendline).",
      "Looking at the trendline, does there seem to be a positive or negative relationship between points and FG%?",
      "If a player is an outlier ABOVE the trendline, what does that tell you about their efficiency?"
    ];

    const githubUrl = "https://github.com/Data-Dunkers/student/blob/main/activities/interpreting-scatterplots.ipynb";

    function gitpullLinks(githubUrl) {
      var colabUrl = "https://colab.research.google.com/github/" + githubUrl.split("github.com/")[1];
      var res = githubUrl.split("/");
      var site = res[2];
      var user = res[3];
      var repo = res[4];
      var treeBlob = res[5];
      var branch = res[6];
      var callystoUrl = "https://hub.callysto.ca/jupyter/hub/user-redirect/git-pull?repo=";
      if (site == "github.com") {
        if (treeBlob) {
          var subPath = githubUrl.substring(githubUrl.indexOf(branch) + branch.length + 1);
          callystoUrl += encodeURIComponent("https://github.com/" + user + "/") + repo + "&branch=" + branch + "&subPath=" + subPath + "&depth=1";
        } else {
          callystoUrl += githubUrl;
        }
      }
      var parag = `<p>Check out the <a href="${githubUrl}">notebook</a> that generated this visualization in <a href="${colabUrl}"> Colab</a> or the <a href="${callystoUrl}">Callysto Hub</a>.</p>`;
      return parag;
    }

    // insert the gitpull links
    try {
      document.getElementById('gitpullParagraph').innerHTML = gitpullLinks(githubUrl);
    } catch (error) {
      console.error('Error:', error);
    }

    // add the questions
    questions.forEach((question, index) => {
      const questionHTML = `<label for="question${index + 1}">${index + 1}. ${question}</label><br>
                          <input type="text" style="width:80%; padding:5px; margin:10px 0;" id="question${index + 1}"><br>`;
      document.getElementById('questions').insertAdjacentHTML('beforeend', questionHTML);
    });

    const fileName = window.location.pathname.split('/').pop().split('.')[0];

    const savedAnswers = JSON.parse(localStorage.getItem(fileName + 'Answers'));
    if (savedAnswers) {
      questions.forEach((_, index) => {
        const input = document.getElementById(`question${index + 1}`);
        if (input && savedAnswers[`question${index + 1}`]) {
          input.value = savedAnswers[`question${index + 1}`];
        }
      });
    }

    function saveAnswers() {
      const answers = {};
      questions.forEach((_, index) => {
        answers[`question${index + 1}`] = document.getElementById(`question${index + 1}`).value;
      });
      localStorage.setItem(fileName + 'Answers', JSON.stringify(answers));
      console.log('Answers saved.');
    }

    function debounce(fn, delay) {
      let timerId;
      return (...args) => {
        clearTimeout(timerId);
        timerId = setTimeout(() => fn(...args), delay);
      };
    }

    const saveAnswersDebounced = debounce(saveAnswers, 200);
    document.getElementById('questions').addEventListener('input', (event) => {
      if (event.target.matches('input[type="text"]')) {
        saveAnswersDebounced();
      }
    });

    function copyAnswers() {
      const answerText = questions.map((questionText, index) => {
        const answer = document.getElementById(`question${index + 1}`).value;
        return `${index + 1}. ${questionText}\nAnswer: ${answer}\n`;
      }).join('\n');

      navigator.clipboard.writeText(answerText).then(() => {
        alert('Answers have been copied to your clipboard');
      }, () => {
        alert('Failed to copy answers');
      });
    }


  </script>
</body>

</html>